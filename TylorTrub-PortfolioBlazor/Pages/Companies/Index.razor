@page "/companies/index"
@using TylorTrubPortfolioBlazor.DTO.Models
@using TylorTrubPortfolioBlazor.Server.BL.Services
@using TylorTrubPortfolioBlazor.UI.Components.BodyComponents
@inject ICompaniesService CompaniesService

<CompaniesIndexBody companies="@companies"/>

@code {
    List<Company> companies = new List<Company>();

    protected override async Task OnInitializedAsync()
    {
        companies = await CompaniesService.FetchCompaniesAsync();
    }
}
